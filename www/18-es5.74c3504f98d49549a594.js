function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[18,19],{"9HyD":function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var i=n("mrSG"),a=n("AzuR"),o=n("fXoL"),r=n("TEn/"),s=n("ofXK"),c=n("tk/3"),l=n("3Pt+");function b(t,e){if(1&t){var n=o.Nb();o.Mb(0,"ion-card"),o.Mb(1,"ion-card-content"),o.Mb(2,"div",10),o.Mb(3,"div",4),o.Kb(4,"img",11),o.Lb(),o.Mb(5,"div",12),o.ic(6),o.Lb(),o.Mb(7,"div",5),o.Mb(8,"ion-input",13),o.Ub("ionChange",(function(t){o.ec(n);var i=e.index;return o.Wb(2).chngeweight(t,i)})),o.Lb(),o.Lb(),o.Mb(9,"div",5),o.Mb(10,"ion-input",14),o.Ub("ionChange",(function(t){o.ec(n);var i=e.index;return o.Wb(2).chngerate(t,i)})),o.Lb(),o.Lb(),o.Lb(),o.Mb(11,"div"),o.ic(12),o.Lb(),o.Lb(),o.Lb()}if(2&t){var i=e.$implicit;o.zb(6),o.kc(" ",i.name," "),o.zb(6),o.kc(" Total = ",i.total," ")}}function d(t,e){if(1&t){var n=o.Nb();o.Mb(0,"ion-content"),o.Mb(1,"div",1),o.Kb(2,"img",2),o.Mb(3,"h2"),o.ic(4),o.Lb(),o.Mb(5,"h4"),o.ic(6,"#"),o.Mb(7,"span"),o.ic(8),o.Lb(),o.Lb(),o.Lb(),o.Mb(9,"div"),o.Mb(10,"div",3),o.Mb(11,"div",4),o.Kb(12,"span"),o.Lb(),o.Mb(13,"div",5),o.ic(14," Name "),o.Lb(),o.Mb(15,"div",5),o.ic(16," Quantity "),o.Lb(),o.Mb(17,"div",5),o.ic(18," Rate "),o.Lb(),o.Lb(),o.Mb(19,"form",6,7),o.Ub("ngSubmit",(function(){o.ec(n);var t=o.dc(20);return o.Wb().saveData(t)})),o.hc(21,b,13,2,"ion-card",8),o.Mb(22,"ion-button",9),o.ic(23," Save "),o.Lb(),o.Lb(),o.Lb(),o.Lb()}if(2&t){var i=o.dc(20),a=o.Wb();o.zb(4),o.jc(a.fisherman.name),o.zb(4),o.jc(a.fisherman.id),o.zb(13),o.Zb("ngForOf",a.tmp),o.zb(1),o.Zb("disabled",i.invalid)}}var m=function(){var t=function(){function t(e,n,i,a,o){_classCallCheck(this,t),this.modalController=e,this.datePipe=n,this.navParams=i,this.http=a,this.toastController=o,this.weight=[],this.rate=[],this.tmp=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;console.log(this.navParams),this.dataValue=this.navParams,this.http.get("".concat(a.a.FISHERMAN,"/").concat(this.navParams.data[0],"?access_token=").concat(this.navParams.data[1].id)).subscribe((function(e){console.log(e),t.fisherman=e,t.http.get("".concat(a.a.WLIST,"?access_token=").concat(t.navParams.data[1].id)).subscribe((function(e){t.wasteItemsList=e,console.log(t.wasteItemsList),t.tempData(t.wasteItemsList)}))}))}},{key:"tempData",value:function(t){for(var e=0;e<t.length;e++){var n={name:"",weight:NaN,rate:NaN,total:NaN};n.name=t[e].name,this.tmp=this.tmp.concat(n),console.log(t[e])}console.log(this.tmp)}},{key:"chngeweight",value:function(t,e){console.log(t.detail.value,e),this.tmp[e].weight=t.detail.value,this.tmp[e].total=this.tmp[e].weight*this.tmp[e].rate,console.log(this.tmp)}},{key:"chngerate",value:function(t,e){console.log(t.detail.value,e),this.tmp[e].rate=t.detail.value,this.tmp[e].total=this.tmp[e].weight*this.tmp[e].rate,console.log(this.tmp)}},{key:"saveData",value:function(t){var e=this;console.log(this.tmp),this.tmp.forEach((function(t){console.log(t),t.fishermanId=e.fisherman.id,console.log(t),e.http.post("".concat(a.a.FISHERMAN,"/").concat(e.fisherman.id,"/wasteCollecteds?access_token=").concat(e.navParams.data[1].id),{name:t.name,quantity:t.weight,rate:t.rate,total:t.total,fishermanId:e.fisherman.id}).subscribe((function(t){console.log(t)}))})),this.closeModalNodata()}},{key:"closeModalNodata",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Close"),t.next=3,this.modalController.dismiss();case 3:case"end":return t.stop()}}),t,this)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Jb(r.y),o.Jb(s.d),o.Jb(r.z),o.Jb(c.a),o.Jb(r.D))},t.\u0275cmp=o.Db({type:t,selectors:[["app-add-items"]],decls:3,vars:1,consts:[[4,"ngIf"],[1,"fisherman"],["src","../../assets/patient-1.png","width","150px"],[1,"grid-container",2,"border-bottom","1px solid"],[1,"grid-item"],[1,"item-grid"],[3,"ngSubmit"],["form","ngForm"],[4,"ngFor","ngForOf"],["mode","ios","color","primary","size","medium","type","submit","expand","block",3,"disabled"],[1,"grid-container"],["src","../../assets/patient-1.png","width","25px"],[1,"item-grid",2,"padding-left","5px"],["name","weight","type","number","placeholder","Weight","required","",2,"margin-bottom","5px",3,"ionChange"],["name","rate","type","number","placeholder","Rate","required","",2,"margin-bottom","5px",3,"ionChange"]],template:function(t,e){1&t&&(o.Mb(0,"ion-header"),o.Kb(1,"ion-toolbar"),o.Lb(),o.hc(2,d,24,4,"ion-content",0)),2&t&&(o.zb(2),o.Zb("ngIf",e.fisherman))},directives:[r.i,r.u,s.j,r.g,l.i,l.e,l.f,s.i,r.b,r.c,r.d,r.k,r.A],styles:[".fisherman[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-content:center;align-items:center}.fisherman[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .fisherman[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:5px}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 4fr 6fr 6fr;padding:10px;align-items:center}.grid-item[_ngcontent-%COMP%]{display:flex;text-align:center;align-content:center;align-items:center;flex-wrap:wrap;justify-content:space-around}"]}),t}()}}]);