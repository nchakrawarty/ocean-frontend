(window.webpackJsonp=window.webpackJsonp||[]).push([[3,18,19],{"9HyD":function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n("mrSG"),o=n("AzuR"),s=n("fXoL"),c=n("TEn/"),a=n("ofXK"),r=n("tk/3"),b=n("3Pt+");function d(t,e){if(1&t){const t=s.Nb();s.Mb(0,"ion-card"),s.Mb(1,"ion-card-content"),s.Mb(2,"div",10),s.Mb(3,"div",4),s.Kb(4,"img",11),s.Lb(),s.Mb(5,"div",12),s.ic(6),s.Lb(),s.Mb(7,"div",5),s.Mb(8,"ion-input",13),s.Ub("ionChange",(function(n){s.ec(t);const i=e.index;return s.Wb(2).chngeweight(n,i)})),s.Lb(),s.Lb(),s.Mb(9,"div",5),s.Mb(10,"ion-input",14),s.Ub("ionChange",(function(n){s.ec(t);const i=e.index;return s.Wb(2).chngerate(n,i)})),s.Lb(),s.Lb(),s.Lb(),s.Mb(11,"div"),s.ic(12),s.Lb(),s.Lb(),s.Lb()}if(2&t){const t=e.$implicit;s.zb(6),s.kc(" ",t.name," "),s.zb(6),s.kc(" Total = ",t.total," ")}}function l(t,e){if(1&t){const t=s.Nb();s.Mb(0,"ion-content"),s.Mb(1,"div",1),s.Kb(2,"img",2),s.Mb(3,"h2"),s.ic(4),s.Lb(),s.Mb(5,"h4"),s.ic(6,"#"),s.Mb(7,"span"),s.ic(8),s.Lb(),s.Lb(),s.Lb(),s.Mb(9,"div"),s.Mb(10,"div",3),s.Mb(11,"div",4),s.Kb(12,"span"),s.Lb(),s.Mb(13,"div",5),s.ic(14," Name "),s.Lb(),s.Mb(15,"div",5),s.ic(16," Quantity "),s.Lb(),s.Mb(17,"div",5),s.ic(18," Rate "),s.Lb(),s.Lb(),s.Mb(19,"form",6,7),s.Ub("ngSubmit",(function(){s.ec(t);const e=s.dc(20);return s.Wb().saveData(e)})),s.hc(21,d,13,2,"ion-card",8),s.Mb(22,"ion-button",9),s.ic(23," Save "),s.Lb(),s.Lb(),s.Lb(),s.Lb()}if(2&t){const t=s.dc(20),e=s.Wb();s.zb(4),s.jc(e.fisherman.name),s.zb(4),s.jc(e.fisherman.id),s.zb(13),s.Zb("ngForOf",e.tmp),s.zb(1),s.Zb("disabled",t.invalid)}}let h=(()=>{class t{constructor(t,e,n,i,o){this.modalController=t,this.datePipe=e,this.navParams=n,this.http=i,this.toastController=o,this.weight=[],this.rate=[],this.tmp=[]}ngOnInit(){console.log(this.navParams),this.dataValue=this.navParams,this.http.get(`${o.a.FISHERMAN}/${this.navParams.data[0]}?access_token=${this.navParams.data[1].id}`).subscribe(t=>{console.log(t),this.fisherman=t,this.http.get(`${o.a.WLIST}?access_token=${this.navParams.data[1].id}`).subscribe(t=>{this.wasteItemsList=t,console.log(this.wasteItemsList),this.tempData(this.wasteItemsList)})})}tempData(t){for(var e=0;e<t.length;e++){var n={name:"",weight:NaN,rate:NaN,total:NaN};n.name=t[e].name,this.tmp=this.tmp.concat(n),console.log(t[e])}console.log(this.tmp)}chngeweight(t,e){console.log(t.detail.value,e),this.tmp[e].weight=t.detail.value,this.tmp[e].total=this.tmp[e].weight*this.tmp[e].rate,console.log(this.tmp)}chngerate(t,e){console.log(t.detail.value,e),this.tmp[e].rate=t.detail.value,this.tmp[e].total=this.tmp[e].weight*this.tmp[e].rate,console.log(this.tmp)}saveData(t){console.log(this.tmp),this.tmp.forEach(t=>{console.log(t),t.fishermanId=this.fisherman.id,console.log(t),this.http.post(`${o.a.FISHERMAN}/${this.fisherman.id}/wasteCollecteds?access_token=${this.navParams.data[1].id}`,{name:t.name,quantity:t.weight,rate:t.rate,total:t.total,fishermanId:this.fisherman.id}).subscribe(t=>{console.log(t)})}),this.closeModalNodata()}closeModalNodata(){return Object(i.a)(this,void 0,void 0,(function*(){console.log("Close"),yield this.modalController.dismiss()}))}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(c.y),s.Jb(a.d),s.Jb(c.z),s.Jb(r.a),s.Jb(c.D))},t.\u0275cmp=s.Db({type:t,selectors:[["app-add-items"]],decls:3,vars:1,consts:[[4,"ngIf"],[1,"fisherman"],["src","../../assets/patient-1.png","width","150px"],[1,"grid-container",2,"border-bottom","1px solid"],[1,"grid-item"],[1,"item-grid"],[3,"ngSubmit"],["form","ngForm"],[4,"ngFor","ngForOf"],["mode","ios","color","primary","size","medium","type","submit","expand","block",3,"disabled"],[1,"grid-container"],["src","../../assets/patient-1.png","width","25px"],[1,"item-grid",2,"padding-left","5px"],["name","weight","type","number","placeholder","Weight","required","",2,"margin-bottom","5px",3,"ionChange"],["name","rate","type","number","placeholder","Rate","required","",2,"margin-bottom","5px",3,"ionChange"]],template:function(t,e){1&t&&(s.Mb(0,"ion-header"),s.Kb(1,"ion-toolbar"),s.Lb(),s.hc(2,l,24,4,"ion-content",0)),2&t&&(s.zb(2),s.Zb("ngIf",e.fisherman))},directives:[c.i,c.u,a.j,c.g,b.i,b.e,b.f,a.i,c.b,c.c,c.d,c.k,c.A],styles:[".fisherman[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-content:center;align-items:center}.fisherman[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .fisherman[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:5px}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 4fr 6fr 6fr;padding:10px;align-items:center}.grid-item[_ngcontent-%COMP%]{display:flex;text-align:center;align-content:center;align-items:center;flex-wrap:wrap;justify-content:space-around}"]}),t})()},fQu3:function(t,e,n){"use strict";n.r(e),n.d(e,"BarcodePageModule",(function(){return O}));var i=n("ofXK"),o=n("3Pt+"),s=n("TEn/"),c=n("tyNb"),a=n("mrSG"),r=n("AzuR"),b=n("9HyD"),d=n("fXoL"),l=n("tk/3"),h=n("WdVq");function m(t,e){if(1&t&&(d.Mb(0,"ion-header",2),d.Mb(1,"header",3),d.Mb(2,"div",4),d.Kb(3,"img",5),d.Mb(4,"h3",6),d.Mb(5,"span",7),d.ic(6,"Welcome"),d.Lb(),d.ic(7,", "),d.Mb(8,"span"),d.Mb(9,"b"),d.ic(10),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb()),2&t){const t=d.Wb();d.zb(10),d.kc(" ",null==t.ActiveUser?null:t.ActiveUser.name,"")}}function p(t,e){if(1&t){const t=d.Nb();d.Mb(0,"ion-content"),d.Mb(1,"ion-card",8),d.Mb(2,"ion-card-content"),d.Mb(3,"h1",9),d.ic(4,"Scan any QR first"),d.Lb(),d.Lb(),d.Mb(5,"ion-footer",10),d.Mb(6,"ion-button",11),d.Ub("click",(function(){return d.ec(t),d.Wb().scanBarcode()})),d.ic(7,"Read New QR code"),d.Lb(),d.Lb(),d.Lb(),d.Lb()}}function g(t,e){if(1&t&&(d.Mb(0,"div",22),d.ic(1),d.Lb()),2&t){const t=e.$implicit;d.zb(1),d.kc(" Image ",t," ")}}function f(t,e){if(1&t&&(d.Mb(0,"div"),d.Mb(1,"ion-card",19),d.Mb(2,"ion-card-content"),d.Mb(3,"div",20),d.hc(4,g,2,1,"div",21),d.Lb(),d.Lb(),d.Lb(),d.Lb()),2&t){const t=d.Wb(2);d.zb(4),d.Zb("ngForOf",t.productimages)}}function u(t,e){if(1&t&&(d.Mb(0,"div",25),d.Kb(1,"img",26),d.Mb(2,"p"),d.ic(3),d.Lb(),d.Lb()),2&t){const t=e.$implicit;d.zb(1),d.ac("src","../../assets/icon/",t.name,".png",d.fc),d.zb(2),d.jc(t.name)}}function M(t,e){if(1&t&&(d.Mb(0,"div",25),d.Mb(1,"p"),d.ic(2),d.Lb(),d.Lb()),2&t){const t=e.$implicit;d.zb(2),d.lc("",t.name," | ",t.quantity,"Kg | Rs",t.rate," | Total= Rs",t.total," ")}}function L(t,e){if(1&t&&(d.Mb(0,"div"),d.Mb(1,"ion-card",19),d.Mb(2,"ion-card-content"),d.Mb(3,"div",23),d.hc(4,u,4,2,"div",24),d.Lb(),d.Lb(),d.Lb(),d.Mb(5,"ion-card"),d.Mb(6,"ion-card-content"),d.hc(7,M,3,4,"div",24),d.Lb(),d.Lb(),d.Lb()),2&t){const t=d.Wb(2);d.zb(4),d.Zb("ngForOf",t.wasteItemsList),d.zb(3),d.Zb("ngForOf",t.wasteCollected)}}function v(t,e){if(1&t&&(d.Mb(0,"div",22),d.ic(1),d.Lb()),2&t){const t=e.$implicit;d.zb(1),d.kc(" Amount ",t," ")}}function y(t,e){if(1&t&&(d.Mb(0,"div"),d.Mb(1,"ion-card",19),d.Mb(2,"ion-card-content"),d.Mb(3,"div",20),d.hc(4,v,2,1,"div",21),d.Lb(),d.Lb(),d.Lb(),d.Lb()),2&t){const t=d.Wb(2);d.zb(4),d.Zb("ngForOf",t.productimages)}}const x=function(t){return{"border-bottom":t}};function w(t,e){if(1&t){const t=d.Nb();d.Mb(0,"ion-content"),d.Mb(1,"ion-refresher",12),d.Ub("ionRefresh",(function(e){return d.ec(t),d.Wb().doRefresh(e)})),d.Kb(2,"ion-refresher-content"),d.Lb(),d.Mb(3,"div",13),d.Kb(4,"img",14),d.Mb(5,"h2"),d.ic(6),d.Lb(),d.Mb(7,"h4"),d.ic(8,"#"),d.Mb(9,"span",11),d.Ub("click",(function(){d.ec(t);const e=d.Wb();return e.copy(e.fisherman.id)})),d.ic(10),d.Lb(),d.Lb(),d.Lb(),d.Mb(11,"div",15),d.Mb(12,"ion-button",16),d.Ub("click",(function(){d.ec(t);const e=d.Wb();return e.addItems(e.fisherman.id)})),d.ic(13," Add Items "),d.Lb(),d.Lb(),d.Mb(14,"ion-card"),d.Mb(15,"ion-card-content"),d.Mb(16,"div",17),d.Mb(17,"span",18),d.Ub("click",(function(e){return d.ec(t),d.Wb().func_photos(e)})),d.ic(18,"Photos"),d.Lb(),d.Mb(19,"span",18),d.Ub("click",(function(e){return d.ec(t),d.Wb().func_items(e)})),d.ic(20,"Items"),d.Lb(),d.Mb(21,"span",18),d.Ub("click",(function(e){return d.ec(t),d.Wb().func_amounts(e)})),d.ic(22,"Amounts"),d.Lb(),d.Lb(),d.hc(23,f,5,1,"div",1),d.hc(24,L,8,2,"div",1),d.hc(25,y,5,1,"div",1),d.Lb(),d.Lb(),d.Lb()}if(2&t){const t=d.Wb();d.zb(6),d.jc(t.fisherman.name),d.zb(4),d.jc(t.fisherman.id),d.zb(7),d.Zb("ngStyle",d.bc(8,x,1==t.photos?"2px solid var(--ion-color-primary)":"none")),d.zb(2),d.Zb("ngStyle",d.bc(10,x,1==t.items?"2px solid var(--ion-color-primary)":"none")),d.zb(2),d.Zb("ngStyle",d.bc(12,x,1==t.amounts?"2px solid var(--ion-color-primary)":"none")),d.zb(2),d.Zb("ngIf",t.photos),d.zb(1),d.Zb("ngIf",t.items),d.zb(1),d.Zb("ngIf",t.amounts)}}const C=[{path:"",component:(()=>{class t{constructor(t,e,n,i,o,s){this.http=t,this.barcodeScanner=e,this.datePipe=n,this.modalController=i,this.toastController=o,this.router=s,this.photos=!0,this.items=!1,this.amounts=!1,this.tempId="6285c34e4108c2667cab6a3b",this.productimages=[1,2,3,4,5,6,7,8,9]}ngOnInit(){this.user=JSON.parse(localStorage.getItem("currentUser")),console.log(this.user),this.http.get(`${r.a.USERS}/${this.user.userId}?access_token=${this.user.id}`).subscribe(t=>{this.ActiveUser=t,console.log(t)}),this.http.get(`${r.a.WLIST}?access_token=${this.user.id}`).subscribe(t=>{this.wasteItemsList=t,console.log(this.wasteItemsList)}),console.log("Call scan"),this.scanBarcode()}scanBarcode(){this.barcodeScanner.scan({preferFrontCamera:!1,showFlipCameraButton:!0,showTorchButton:!0,saveHistory:!0,torchOn:!1,prompt:"Place a barcode inside the scan area",resultDisplayDuration:500,formats:"EAN_13,EAN_8,QR_CODE,PDF_417 ",orientation:"portrait"}).then(t=>{this.scannedData=JSON.parse(t.text),console.log("Barcode data",t.text),console.log("Barcode data Scanned Id",t.text),console.log("Barcode data Scanned json",this.scannedData.name),console.log("Barcode data Scanned json",this.scannedData.id),this.callFisherman(this.scannedData.id)}).catch(t=>{console.log("Error",t)})}callFisherman(t){this.http.get(`${r.a.FISHERMAN}/${t}?access_token=${this.user.id}`).subscribe(t=>{console.log(t),this.fisherman=t})}func_photos(t){console.log(t),this.photos=!0,this.items=!1,this.amounts=!1}func_items(t){console.log(t),this.http.get(`${r.a.FISHERMAN}/${this.scannedData.id}/wasteCollecteds?access_token=${this.user.id}`).subscribe(t=>{console.log(t),this.wasteCollected=t}),this.photos=!1,this.items=!0,this.amounts=!1}func_amounts(t){console.log(t),this.photos=!1,this.items=!1,this.amounts=!0}copy(t){console.log(t);let e=document.createElement("textarea");e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.opacity="0",e.value=t,document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e),this.presentToast("Copied ID = "+t,"success")}addItems(t){return Object(a.a)(this,void 0,void 0,(function*(){console.log(t);const e=yield this.modalController.create({component:b.a,componentProps:[t,this.user]});return yield e.present()}))}presentToast(t,e){return Object(a.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({message:t,duration:1e3,position:"top",cssClass:"normalToast",color:e})).present()}))}doRefresh(t){this.ngOnInit(),setTimeout(()=>{console.log("Async operation has ended"),t.target.complete()},2e3)}}return t.\u0275fac=function(e){return new(e||t)(d.Jb(l.a),d.Jb(h.a),d.Jb(i.d),d.Jb(s.y),d.Jb(s.D),d.Jb(c.g))},t.\u0275cmp=d.Db({type:t,selectors:[["app-barcode"]],decls:3,vars:3,consts:[["class","ion-no-border",4,"ngIf"],[4,"ngIf"],[1,"ion-no-border"],[1,"flex","p-4","items-center","justify-between",2,"display","flex","flex-direction","row","flex-wrap","wrap","justify-content","space-between","padding","12px"],[1,"flex","items-center",2,"display","flex","flex-direction","row","flex-wrap","wrap","justify-content","space-between"],["src","../../assets/patient-1.png","width","50px"],[1,"text-sm","m-0","ml-2",2,"padding-left","5px"],[1,"text-xs"],["color","danger",2,"display","flex","flex-wrap","wrap","align-content","center","align-items","center","justify-content","center"],[2,"font-size","2em !important","color","#fff","text-align","center"],[2,"display","flex","justify-content","center"],[3,"click"],["spellcheck","z-index:9999","slot","fixed","pullFactor","0.5","pullMin","100","pullMax","200",3,"ionRefresh"],[1,"fisherman"],["src","../../assets/patient-1.png","width","150px"],[2,"text-align","center","padding","10px"],["size","medium","color","primary",3,"click"],[1,"dlist"],[3,"ngStyle","click"],[2,"box-shadow","none"],[1,"grid-container"],["class","grid-item",4,"ngFor","ngForOf"],[1,"grid-item"],[1,"grid-containerI"],["class","grid-item","style","background:#efefef;margin: 1%;",4,"ngFor","ngForOf"],[1,"grid-item",2,"background","#efefef","margin","1%"],[2,"padding","2%","margin","5%",3,"src"]],template:function(t,e){1&t&&(d.hc(0,m,11,1,"ion-header",0),d.hc(1,p,8,0,"ion-content",1),d.hc(2,w,26,14,"ion-content",1)),2&t&&(d.Zb("ngIf",e.ActiveUser),d.zb(1),d.Zb("ngIf",!e.fisherman),d.zb(1),d.Zb("ngIf",e.fisherman))},directives:[i.j,s.i,s.g,s.c,s.d,s.h,s.b,s.m,s.n,i.k,i.i],styles:[".fisherman[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-content:center;align-items:center}.fisherman[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .fisherman[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:5px}.dlist[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;margin:25px auto 0;border-bottom:1px solid grey}.dlist[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:10px;border-bottom:2px solid var(--ion-color-primary)}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto auto;padding:10px}.grid-containerI[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto;padding:10px}.grid-item[_ngcontent-%COMP%]{text-align:center}"]}),t})()}];let I=(()=>{class t{}return t.\u0275mod=d.Hb({type:t}),t.\u0275inj=d.Gb({factory:function(e){return new(e||t)},imports:[[c.j.forChild(C)],c.j]}),t})(),O=(()=>{class t{}return t.\u0275mod=d.Hb({type:t}),t.\u0275inj=d.Gb({factory:function(e){return new(e||t)},imports:[[i.b,o.a,s.v,I]]}),t})()}}]);