function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,n){for(var e=0;e<n.length;e++){var a=n[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,n,e){return n&&_defineProperties(t.prototype,n),e&&_defineProperties(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[3,17,18,20,21],{"8I4O":function(t,n,e){"use strict";e.d(n,"a",(function(){return d}));var a=e("mrSG"),i=e("AzuR"),o=e("fXoL"),c=e("TEn/"),s=e("ofXK"),r=e("tk/3"),l=e("3Pt+");function b(t,n){if(1&t){var e=o.Nb();o.Mb(0,"ion-content"),o.Mb(1,"div",1),o.Kb(2,"img",2),o.Mb(3,"h2"),o.ic(4),o.Lb(),o.Mb(5,"h4"),o.ic(6,"#"),o.Mb(7,"span"),o.ic(8),o.Lb(),o.Lb(),o.Lb(),o.Mb(9,"ion-card",3),o.Mb(10,"ion-card-content",4),o.Mb(11,"div"),o.ic(12),o.Lb(),o.Mb(13,"div"),o.ic(14),o.Lb(),o.Lb(),o.Lb(),o.Mb(15,"ion-card"),o.Mb(16,"ion-card-content"),o.Mb(17,"form",5,6),o.Ub("ngSubmit",(function(){o.ec(e);var t=o.dc(18);return o.Wb().addAmount(t)})),o.Kb(19,"ion-input",7),o.Mb(20,"div",8),o.Kb(21,"ion-icon",9),o.Kb(22,"ion-datetime",10),o.Lb(),o.Mb(23,"ion-button",11),o.ic(24," Add transaction "),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.Lb()}if(2&t){var a=o.dc(18),i=o.Wb();o.zb(4),o.jc(i.fisherman.name),o.zb(4),o.jc(i.fisherman.id),o.zb(4),o.kc(" Paid Rs. ",i.paid," "),o.zb(2),o.kc(" Balance Rs.",i.Balance," "),o.zb(9),o.Zb("disabled",a.invalid)}}var d=function(){var t=function(){function t(n,e,a,i,o){_classCallCheck(this,t),this.modalController=n,this.datePipe=e,this.navParams=a,this.http=i,this.toastController=o,this.weight=[],this.rate=[],this.tmp=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.paid=0,console.log(this.navParams),this.dataValue=this.navParams,this.http.get("".concat(i.a.FISHERMAN,"/").concat(this.navParams.data[0],"?access_token=").concat(this.navParams.data[1].id)).subscribe((function(n){console.log(n),t.fisherman=n})),this.http.get("".concat(i.a.FISHERMAN,"/").concat(this.navParams.data[0],"/wasteCollecteds?access_token=").concat(this.navParams.data[1].id)).subscribe((function(n){console.log(n),t.wasteCollected=n})),this.http.get("".concat(i.a.FISHERMAN,"/").concat(this.navParams.data[0],"/transactions?access_token=").concat(this.navParams.data[1].id)).subscribe((function(n){console.log(n),t.transactions=n,t.amount=t.transactions[0].amount,t.transactions.forEach((function(n){n.amount.forEach((function(n){t.paid=t.paid+n.Amount}))})),t.Balance=n[0].balance,t.calcttl()}))}},{key:"calcttl",value:function(){var t=this;null!=this.wasteCollected&&null!=this.transactions&&(this.amount=this.transactions[0].amount,this.http.get("".concat(i.a.FISHERMAN,"/").concat(this.navParams.data[0],"/transactions?access_token=").concat(this.navParams.data[1].id)).subscribe((function(n){console.log(n),t.transactions.forEach((function(n){n.amount.forEach((function(n){t.paid=t.paid+n.Amount}))})),t.Balance=n[0].balance})))}},{key:"addAmount",value:function(t){var n;this.amount.push({Amount:t.form.value.Amount,transactionDate:t.form.value.transactionDate}),n=this.transactions[0].balance-t.form.value.Amount,console.log(t.form.value),this.Balance&&this.http.patch("".concat(i.a.TRANSACTION,"/").concat(this.transactions[0].id,"?access_token=").concat(this.navParams.data[1].id),{balance:n,amount:this.amount}).subscribe((function(t){console.log(t)})),this.closeModalNodata()}},{key:"closeModalNodata",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Close"),t.next=3,this.modalController.dismiss();case 3:case"end":return t.stop()}}),t,this)})))}}]),t}();return t.\u0275fac=function(n){return new(n||t)(o.Jb(c.z),o.Jb(s.d),o.Jb(c.A),o.Jb(r.a),o.Jb(c.F))},t.\u0275cmp=o.Db({type:t,selectors:[["app-add-amount"]],decls:5,vars:1,consts:[[4,"ngIf"],[1,"fisherman"],["src","../../assets/patient-1.png","width","150px"],[2,"min-height","50px"],[2,"display","flex","justify-content","space-evenly"],[2,"padding","5px","width","85%",3,"ngSubmit"],["form","ngForm"],["name","Amount","type","number","placeholder","Enter Amount","ngModel","","required","",1,"bg-white","rounded-lg","text-sm","overflow-hidden","mb-3"],[2,"display","flex","align-items","center"],["size","large","name","calendar"],["displayFormat","MMM DD, YYYY","name","transactionDate","placeholder","Date","ngModel",""],["mode","ios","color","primary","size","medium","type","submit","expand","block",3,"disabled"]],template:function(t,n){1&t&&(o.Mb(0,"ion-header"),o.Mb(1,"ion-toolbar"),o.Mb(2,"ion-title"),o.ic(3,"Add Transaction"),o.Lb(),o.Lb(),o.Lb(),o.hc(4,b,25,5,"ion-content",0)),2&t&&(o.zb(4),o.Zb("ngIf",n.fisherman))},directives:[c.j,c.v,c.u,s.j,c.g,c.c,c.d,l.i,l.e,l.f,c.l,c.B,l.d,l.g,l.h,c.k,c.h,c.D,c.b],styles:[".fisherman[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-content:center;align-items:center}.fisherman[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .fisherman[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:5px}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 4fr 6fr 6fr;padding:10px;align-items:center}.grid-item[_ngcontent-%COMP%]{display:flex;text-align:center;align-content:center;align-items:center;flex-wrap:wrap;justify-content:space-around}"]}),t}()},"9HyD":function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));var a=e("mrSG"),i=e("AzuR"),o=e("fXoL"),c=e("TEn/"),s=e("ofXK"),r=e("tk/3"),l=e("3Pt+");function b(t,n){if(1&t){var e=o.Nb();o.Mb(0,"ion-card"),o.Mb(1,"ion-card-content"),o.Mb(2,"div",10),o.Mb(3,"div",4),o.Kb(4,"img",11),o.Lb(),o.Mb(5,"div",12),o.ic(6),o.Lb(),o.Mb(7,"div",5),o.Mb(8,"ion-input",13),o.Ub("ionChange",(function(t){o.ec(e);var a=n.index;return o.Wb(2).chngeweight(t,a)})),o.Lb(),o.Lb(),o.Mb(9,"div",5),o.Mb(10,"ion-input",14),o.Ub("ionChange",(function(t){o.ec(e);var a=n.index;return o.Wb(2).chngerate(t,a)})),o.Lb(),o.Lb(),o.Lb(),o.Mb(11,"div"),o.ic(12),o.Lb(),o.Lb(),o.Lb()}if(2&t){var a=n.$implicit;o.zb(6),o.kc(" ",a.name," "),o.zb(6),o.kc(" Total = ",a.total," ")}}function d(t,n){if(1&t){var e=o.Nb();o.Mb(0,"ion-content"),o.Mb(1,"div",1),o.Kb(2,"img",2),o.Mb(3,"h2"),o.ic(4),o.Lb(),o.Mb(5,"h4"),o.ic(6,"#"),o.Mb(7,"span"),o.ic(8),o.Lb(),o.Lb(),o.Lb(),o.Mb(9,"div"),o.Mb(10,"div",3),o.Mb(11,"div",4),o.Kb(12,"span"),o.Lb(),o.Mb(13,"div",5),o.ic(14," Name "),o.Lb(),o.Mb(15,"div",5),o.ic(16," Quantity "),o.Lb(),o.Mb(17,"div",5),o.ic(18," Rate "),o.Lb(),o.Lb(),o.Mb(19,"form",6,7),o.Ub("ngSubmit",(function(){o.ec(e);var t=o.dc(20);return o.Wb().saveData(t)})),o.hc(21,b,13,2,"ion-card",8),o.Mb(22,"ion-button",9),o.ic(23," Save "),o.Lb(),o.Lb(),o.Lb(),o.Lb()}if(2&t){var a=o.dc(20),i=o.Wb();o.zb(4),o.jc(i.fisherman.name),o.zb(4),o.jc(i.fisherman.id),o.zb(13),o.Zb("ngForOf",i.tmp),o.zb(1),o.Zb("disabled",a.invalid)}}var u=function(){var t=function(){function t(n,e,a,i,o){_classCallCheck(this,t),this.modalController=n,this.datePipe=e,this.navParams=a,this.http=i,this.toastController=o,this.weight=[],this.rate=[],this.tmp=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;console.log(this.navParams),this.dataValue=this.navParams,this.http.get("".concat(i.a.FISHERMAN,"/").concat(this.navParams.data[0],"?access_token=").concat(this.navParams.data[1].id)).subscribe((function(n){console.log(n),t.fisherman=n,t.http.get("".concat(i.a.WLIST,"?access_token=").concat(t.navParams.data[1].id)).subscribe((function(n){t.wasteItemsList=n,console.log(t.wasteItemsList),t.tempData(t.wasteItemsList)}))}))}},{key:"tempData",value:function(t){for(var n=0;n<t.length;n++){var e={name:"",weight:NaN,rate:NaN,total:NaN};e.name=t[n].name,this.tmp=this.tmp.concat(e),console.log(t[n])}console.log(this.tmp)}},{key:"chngeweight",value:function(t,n){console.log(t.detail.value,n),this.tmp[n].weight=t.detail.value,this.tmp[n].total=this.tmp[n].weight*this.tmp[n].rate,console.log(this.tmp)}},{key:"chngerate",value:function(t,n){console.log(t.detail.value,n),this.tmp[n].rate=t.detail.value,this.tmp[n].total=this.tmp[n].weight*this.tmp[n].rate,console.log(this.tmp)}},{key:"saveData",value:function(t){var n=this;console.log(this.tmp);var e=0;this.tmp.forEach((function(t){console.log(t),t.fishermanId=n.fisherman.id,console.log(t),n.http.post("".concat(i.a.FISHERMAN,"/").concat(n.fisherman.id,"/wasteCollecteds?access_token=").concat(n.navParams.data[1].id),{name:t.name,quantity:t.weight,rate:t.rate,total:t.total,fishermanId:n.fisherman.id}).subscribe((function(t){console.log(t)})),e+=t.total,console.log(t.total)})),this.http.get("".concat(i.a.FISHERMAN,"/").concat(this.navParams.data[0],"/transactions?access_token=").concat(this.navParams.data[1].id)).subscribe((function(t){console.log(t,t.length),0==t.length?n.http.post("".concat(i.a.FISHERMAN,"/").concat(n.navParams.data[0],"/transactions?access_token=").concat(n.navParams.data[1].id),{balance:e,amount:[],fishermanId:n.fisherman.id}).subscribe((function(t){console.log(t)})):n.http.patch("".concat(i.a.TRANSACTION,"/").concat(t[0].id,"?access_token=").concat(n.navParams.data[1].id),{balance:e+=t[0].balance}).subscribe((function(t){console.log(t)}))})),this.closeModalNodata()}},{key:"closeModalNodata",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Close"),t.next=3,this.modalController.dismiss();case 3:case"end":return t.stop()}}),t,this)})))}}]),t}();return t.\u0275fac=function(n){return new(n||t)(o.Jb(c.z),o.Jb(s.d),o.Jb(c.A),o.Jb(r.a),o.Jb(c.F))},t.\u0275cmp=o.Db({type:t,selectors:[["app-add-items"]],decls:5,vars:1,consts:[[4,"ngIf"],[1,"fisherman"],["src","../../assets/patient-1.png","width","150px"],[1,"grid-container",2,"border-bottom","1px solid"],[1,"grid-item"],[1,"item-grid"],[3,"ngSubmit"],["form","ngForm"],[4,"ngFor","ngForOf"],["mode","ios","color","primary","size","medium","type","submit","expand","block",3,"disabled"],[1,"grid-container"],["src","../../assets/patient-1.png","width","25px"],[1,"item-grid",2,"padding-left","5px"],["name","weight","type","number","placeholder","Weight","required","",2,"margin-bottom","5px",3,"ionChange"],["name","rate","type","number","placeholder","Rate","required","",2,"margin-bottom","5px",3,"ionChange"]],template:function(t,n){1&t&&(o.Mb(0,"ion-header"),o.Mb(1,"ion-toolbar"),o.Mb(2,"ion-title"),o.ic(3,"Add Items"),o.Lb(),o.Lb(),o.Lb(),o.hc(4,d,24,4,"ion-content",0)),2&t&&(o.zb(4),o.Zb("ngIf",n.fisherman))},directives:[c.j,c.v,c.u,s.j,c.g,l.i,l.e,l.f,s.i,c.b,c.c,c.d,c.l,c.B],styles:[".fisherman[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-content:center;align-items:center}.fisherman[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .fisherman[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:5px}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 4fr 6fr 6fr;padding:10px;align-items:center}.grid-item[_ngcontent-%COMP%]{display:flex;text-align:center;align-content:center;align-items:center;flex-wrap:wrap;justify-content:space-around}"]}),t}()},fQu3:function(t,n,e){"use strict";e.r(n),e.d(n,"BarcodePageModule",(function(){return A}));var a=e("ofXK"),i=e("3Pt+"),o=e("TEn/"),c=e("tyNb"),s=e("mrSG"),r=e("AzuR"),l=e("9HyD"),b=e("8I4O"),d=e("fXoL"),u=e("tk/3"),h=e("WdVq");function m(t,n){if(1&t&&(d.Mb(0,"ion-header",2),d.Mb(1,"header",3),d.Mb(2,"div",4),d.Kb(3,"img",5),d.Mb(4,"h3",6),d.Mb(5,"span",7),d.ic(6,"Welcome"),d.Lb(),d.ic(7,", "),d.Mb(8,"span"),d.Mb(9,"b"),d.ic(10),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb()),2&t){var e=d.Wb();d.zb(10),d.kc(" ",null==e.ActiveUser?null:e.ActiveUser.name,"")}}function f(t,n){if(1&t){var e=d.Nb();d.Mb(0,"ion-content"),d.Mb(1,"ion-card",8),d.Mb(2,"ion-card-content"),d.Mb(3,"h1",9),d.ic(4,"Scan any QR first"),d.Lb(),d.Lb(),d.Mb(5,"ion-footer",10),d.Mb(6,"ion-button",11),d.Ub("click",(function(){return d.ec(e),d.Wb().scanBarcode()})),d.ic(7,"Read New QR code"),d.Lb(),d.Lb(),d.Lb(),d.Lb()}}function p(t,n){if(1&t&&(d.Mb(0,"div",22),d.ic(1),d.Lb()),2&t){var e=n.$implicit;d.zb(1),d.kc(" Image ",e," ")}}function g(t,n){if(1&t&&(d.Mb(0,"div"),d.Mb(1,"ion-card",19),d.Mb(2,"ion-card-content"),d.Mb(3,"div",20),d.hc(4,p,2,1,"div",21),d.Lb(),d.Lb(),d.Lb(),d.Lb()),2&t){var e=d.Wb(2);d.zb(4),d.Zb("ngForOf",e.productimages)}}function v(t,n){if(1&t&&(d.Mb(0,"div",25),d.Kb(1,"img",26),d.Mb(2,"p"),d.ic(3),d.Lb(),d.Lb()),2&t){var e=n.$implicit;d.zb(1),d.ac("src","../../assets/icon/",e.name,".png",d.fc),d.zb(2),d.jc(e.name)}}function M(t,n){if(1&t&&(d.Mb(0,"div",25),d.Mb(1,"p"),d.ic(2),d.Lb(),d.Lb()),2&t){var e=n.$implicit;d.zb(2),d.lc("",e.name," | ",e.quantity,"Kg | Rs",e.rate," | Total= Rs",e.total," ")}}function L(t,n){if(1&t&&(d.Mb(0,"div"),d.Mb(1,"ion-card",19),d.Mb(2,"ion-card-content"),d.Mb(3,"div",23),d.hc(4,v,4,2,"div",24),d.Lb(),d.Lb(),d.Lb(),d.Mb(5,"ion-card"),d.Mb(6,"ion-card-content"),d.hc(7,M,3,4,"div",24),d.Lb(),d.Lb(),d.Lb()),2&t){var e=d.Wb(2);d.zb(4),d.Zb("ngForOf",e.wasteItemsList),d.zb(3),d.Zb("ngForOf",e.wasteCollected)}}function y(t,n){if(1&t&&(d.Mb(0,"div"),d.Mb(1,"div",33),d.Mb(2,"div"),d.ic(3),d.Lb(),d.Mb(4,"div"),d.ic(5),d.Lb(),d.Lb(),d.Lb()),2&t){var e=n.$implicit;d.zb(3),d.kc(" ",e.transactionDate," "),d.zb(2),d.kc(" ",e.Amount," ")}}function x(t,n){if(1&t&&(d.Mb(0,"div"),d.Mb(1,"div",32),d.Mb(2,"div"),d.ic(3," Date "),d.Lb(),d.Mb(4,"div"),d.ic(5," Amount "),d.Lb(),d.Lb(),d.hc(6,y,6,2,"div",31),d.Lb()),2&t){var e=n.$implicit;d.zb(6),d.Zb("ngForOf",e.amount)}}function k(t,n){if(1&t){var e=d.Nb();d.Mb(0,"div"),d.Mb(1,"ion-card",27),d.Mb(2,"ion-card-content",28),d.Mb(3,"div"),d.ic(4),d.Lb(),d.Mb(5,"div"),d.ic(6),d.Lb(),d.Lb(),d.Lb(),d.Mb(7,"ion-card",27),d.Mb(8,"ion-card-content"),d.Mb(9,"div",29),d.Mb(10,"div"),d.ic(11," Transaction details "),d.Lb(),d.Mb(12,"div"),d.Mb(13,"ion-button",30),d.Ub("click",(function(){d.ec(e);var t=d.Wb(2);return t.addAmounts(t.fisherman.id)})),d.ic(14,"Pay"),d.Lb(),d.Lb(),d.Lb(),d.hc(15,x,7,1,"div",31),d.Lb(),d.Lb(),d.Mb(16,"ion-card",19),d.Kb(17,"ion-card-content"),d.Lb(),d.Lb()}if(2&t){var a=d.Wb(2);d.zb(4),d.kc(" Paid Rs. ",a.paid," "),d.zb(2),d.kc(" Balance Rs.",a.Balance," "),d.zb(9),d.Zb("ngForOf",a.transactions)}}var w=function(t){return{"border-bottom":t}};function C(t,n){if(1&t){var e=d.Nb();d.Mb(0,"ion-content"),d.Mb(1,"ion-refresher",12),d.Ub("ionRefresh",(function(t){return d.ec(e),d.Wb().doRefresh(t)})),d.Kb(2,"ion-refresher-content"),d.Lb(),d.Mb(3,"div",13),d.Kb(4,"img",14),d.Mb(5,"h2"),d.ic(6),d.Lb(),d.Mb(7,"h4"),d.ic(8,"#"),d.Mb(9,"span",11),d.Ub("click",(function(){d.ec(e);var t=d.Wb();return t.copy(t.fisherman.id)})),d.ic(10),d.Lb(),d.Lb(),d.Lb(),d.Mb(11,"div",15),d.Mb(12,"ion-button",16),d.Ub("click",(function(){d.ec(e);var t=d.Wb();return t.addItems(t.fisherman.id)})),d.ic(13," Add Items "),d.Lb(),d.Lb(),d.Mb(14,"ion-card"),d.Mb(15,"ion-card-content"),d.Mb(16,"div",17),d.Mb(17,"span",18),d.Ub("click",(function(t){return d.ec(e),d.Wb().func_photos(t)})),d.ic(18,"Photos"),d.Lb(),d.Mb(19,"span",18),d.Ub("click",(function(t){return d.ec(e),d.Wb().func_items(t)})),d.ic(20,"Items"),d.Lb(),d.Mb(21,"span",18),d.Ub("click",(function(t){return d.ec(e),d.Wb().func_amounts(t)})),d.ic(22,"Amounts"),d.Lb(),d.Lb(),d.hc(23,g,5,1,"div",1),d.hc(24,L,8,2,"div",1),d.hc(25,k,18,3,"div",1),d.Lb(),d.Lb(),d.Lb()}if(2&t){var a=d.Wb();d.zb(6),d.jc(a.fisherman.name),d.zb(4),d.jc(a.fisherman.id),d.zb(7),d.Zb("ngStyle",d.bc(8,w,1==a.photos?"2px solid var(--ion-color-primary)":"none")),d.zb(2),d.Zb("ngStyle",d.bc(10,w,1==a.items?"2px solid var(--ion-color-primary)":"none")),d.zb(2),d.Zb("ngStyle",d.bc(12,w,1==a.amounts?"2px solid var(--ion-color-primary)":"none")),d.zb(2),d.Zb("ngIf",a.photos),d.zb(1),d.Zb("ngIf",a.items),d.zb(1),d.Zb("ngIf",a.amounts)}}var P,_,I,O=[{path:"",component:(P=function(){function t(n,e,a,i,o,c){_classCallCheck(this,t),this.http=n,this.barcodeScanner=e,this.datePipe=a,this.modalController=i,this.toastController=o,this.router=c,this.photos=!0,this.items=!1,this.amounts=!1,this.tempId="6285c34e4108c2667cab6a3b",this.productimages=[1,2,3,4,5,6,7,8,9]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.user=JSON.parse(localStorage.getItem("currentUser")),console.log(this.user),this.http.get("".concat(r.a.USERS,"/").concat(this.user.userId,"?access_token=").concat(this.user.id)).subscribe((function(n){t.ActiveUser=n,console.log(n)})),this.http.get("".concat(r.a.WLIST,"?access_token=").concat(this.user.id)).subscribe((function(n){t.wasteItemsList=n,console.log(t.wasteItemsList)})),console.log("Call scan"),this.scanBarcode(),this.func_items(""),this.func_amounts("")}},{key:"scanBarcode",value:function(){var t=this;this.barcodeScanner.scan({preferFrontCamera:!1,showFlipCameraButton:!0,showTorchButton:!0,saveHistory:!0,torchOn:!1,prompt:"Place a barcode inside the scan area",resultDisplayDuration:500,formats:"EAN_13,EAN_8,QR_CODE,PDF_417 ",orientation:"portrait"}).then((function(n){t.scannedData=JSON.parse(n.text),console.log("Barcode data",n.text),console.log("Barcode data Scanned Id",n.text),console.log("Barcode data Scanned json",t.scannedData.name),console.log("Barcode data Scanned json",t.scannedData.id),t.callFisherman(t.scannedData.id)})).catch((function(t){console.log("Error",t)}))}},{key:"callFisherman",value:function(t){var n=this;this.http.get("".concat(r.a.FISHERMAN,"/").concat(t,"?access_token=").concat(this.user.id)).subscribe((function(t){console.log(t),n.fisherman=t}))}},{key:"func_photos",value:function(t){console.log(t),this.photos=!0,this.items=!1,this.amounts=!1}},{key:"func_items",value:function(t){var n=this;console.log(t),this.http.get("".concat(r.a.FISHERMAN,"/").concat(this.scannedData.id,"/wasteCollecteds?access_token=").concat(this.user.id)).subscribe((function(t){console.log(t),n.wasteCollected=t})),this.photos=!1,this.items=!0,this.amounts=!1}},{key:"func_amounts",value:function(t){var n=this;this.paid=0,console.log(t,this.wasteCollected),null==this.wasteCollected&&this.http.get("".concat(r.a.FISHERMAN,"/").concat(this.scannedData.id,"/wasteCollecteds?access_token=").concat(this.user.id)).subscribe((function(t){console.log(t),n.wasteCollected=t,n.calcttl()})),this.http.get("".concat(r.a.FISHERMAN,"/").concat(this.scannedData.id,"/transactions?access_token=").concat(this.user.id)).subscribe((function(t){console.log(t),n.transactions=t,n.transactions.forEach((function(t){t.amount.forEach((function(t){n.paid=n.paid+t.Amount}))})),n.calcttl()})),this.photos=!1,this.items=!1,this.amounts=!0}},{key:"calcttl",value:function(){var t=this;null!=this.wasteCollected&&null!=this.transactions&&this.http.get("".concat(r.a.FISHERMAN,"/").concat(this.scannedData.id,"/transactions?access_token=").concat(this.user.id)).subscribe((function(n){console.log(n),t.Balance=n[0].balance}))}},{key:"copy",value:function(t){console.log(t);var n=document.createElement("textarea");n.style.position="fixed",n.style.left="0",n.style.top="0",n.style.opacity="0",n.value=t,document.body.appendChild(n),n.focus(),n.select(),document.execCommand("copy"),document.body.removeChild(n),this.presentToast("Copied ID = "+t,"success")}},{key:"addItems",value:function(t){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e,a=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(t),n.next=3,this.modalController.create({component:l.a,componentProps:[t,this.user]});case 3:return(e=n.sent).onDidDismiss().then((function(t){console.log(t),a.ngOnInit()})),n.next=7,e.present();case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}}),n,this)})))}},{key:"addAmounts",value:function(t){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e,a=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(t),n.next=3,this.modalController.create({component:b.a,componentProps:[t,this.user]});case 3:return(e=n.sent).onDidDismiss().then((function(t){console.log(t),a.ngOnInit()})),n.next=7,e.present();case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}}),n,this)})))}},{key:"presentToast",value:function(t,n){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastController.create({message:t,duration:1e3,position:"top",cssClass:"normalToast",color:n});case 2:e.sent.present();case 3:case"end":return e.stop()}}),e,this)})))}},{key:"doRefresh",value:function(t){this.ngOnInit(),setTimeout((function(){console.log("Async operation has ended"),t.target.complete()}),2e3)}}]),t}(),P.\u0275fac=function(t){return new(t||P)(d.Jb(u.a),d.Jb(h.a),d.Jb(a.d),d.Jb(o.z),d.Jb(o.F),d.Jb(c.g))},P.\u0275cmp=d.Db({type:P,selectors:[["app-barcode"]],decls:3,vars:3,consts:[["class","ion-no-border",4,"ngIf"],[4,"ngIf"],[1,"ion-no-border"],[1,"flex","p-4","items-center","justify-between",2,"display","flex","flex-direction","row","flex-wrap","wrap","justify-content","space-between","padding","12px"],[1,"flex","items-center",2,"display","flex","flex-direction","row","flex-wrap","wrap","justify-content","space-between"],["src","../../assets/patient-1.png","width","50px"],[1,"text-sm","m-0","ml-2",2,"padding-left","5px"],[1,"text-xs"],["color","danger",2,"display","flex","flex-wrap","wrap","align-content","center","align-items","center","justify-content","center"],[2,"font-size","2em !important","color","#fff","text-align","center"],[2,"display","flex","justify-content","center"],[3,"click"],["spellcheck","z-index:9999","slot","fixed","pullFactor","0.5","pullMin","100","pullMax","200",3,"ionRefresh"],[1,"fisherman"],["src","../../assets/patient-1.png","width","150px"],[2,"text-align","center","padding","10px"],["size","medium","color","primary",3,"click"],[1,"dlist"],[3,"ngStyle","click"],[2,"box-shadow","none"],[1,"grid-container"],["class","grid-item",4,"ngFor","ngForOf"],[1,"grid-item"],[1,"grid-containerI"],["class","grid-item","style","background:#efefef;margin: 1%;",4,"ngFor","ngForOf"],[1,"grid-item",2,"background","#efefef","margin","1%"],[2,"padding","2%","margin","5%",3,"src"],[2,"min-height","50px"],[2,"display","flex","justify-content","space-evenly"],[2,"display","flex","justify-content","space-evenly","align-items","center","padding","4px","background-color","#efefef"],["size","small","color","primary",3,"click"],[4,"ngFor","ngForOf"],[2,"display","flex","justify-content","space-between","padding","4px","background-color","beige"],[2,"display","flex","justify-content","space-between"]],template:function(t,n){1&t&&(d.hc(0,m,11,1,"ion-header",0),d.hc(1,f,8,0,"ion-content",1),d.hc(2,C,26,14,"ion-content",1)),2&t&&(d.Zb("ngIf",n.ActiveUser),d.zb(1),d.Zb("ngIf",!n.fisherman),d.zb(1),d.Zb("ngIf",n.fisherman))},directives:[a.j,o.j,o.g,o.c,o.d,o.i,o.b,o.n,o.o,a.k,a.i],styles:[".fisherman[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-content:center;align-items:center}.fisherman[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .fisherman[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:5px}.dlist[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;margin:25px auto 0;border-bottom:1px solid grey}.dlist[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:10px;border-bottom:2px solid var(--ion-color-primary)}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto auto;padding:10px}.grid-containerI[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto;padding:10px}.grid-item[_ngcontent-%COMP%]{text-align:center}"]}),P)}],z=((I=function t(){_classCallCheck(this,t)}).\u0275mod=d.Hb({type:I}),I.\u0275inj=d.Gb({factory:function(t){return new(t||I)},imports:[[c.j.forChild(O)],c.j]}),I),A=((_=function t(){_classCallCheck(this,t)}).\u0275mod=d.Hb({type:_}),_.\u0275inj=d.Gb({factory:function(t){return new(t||_)},imports:[[a.b,i.a,o.w,z]]}),_)}}]);